 (function(){if(window.AppbymeJavascriptBridge){return}var ao="2.3";var Q=3000;var q=0;var ad=y=z=last_x=last_y=last_z=0;var X;var S;var O;var f;var i;var ak;var m;var au;var am;var ac;var g;var k;var G="appbyme://onLogout";var L="appbyme://onLogin";var af="appbyme://onShare";var w="appbyme://getUserInfo";var ai="appbyme://getAppVersion";var R="appbyme://usercenter";var b="appbyme://pulishTopic";var d="appbyme://replyTopic";var aj="appbyme://topicDetail";var al="appbyme://scan";var at="appbyme://urlRequest";var j="appbyme://imagePreview";var aa="appbyme://customButton";var F="appbyme://encrypt";var l="appbyme://getLocation";var n="appbyme://closeActivity";var W="appbyme://payRequest";var an="appbyme://customModule";var e={versions:function(){var x=navigator.userAgent;return{trident:x.indexOf("Trident")>-1,presto:x.indexOf("Presto")>-1,webKit:x.indexOf("AppleWebKit")>-1,gecko:x.indexOf("Gecko")>-1&&x.indexOf("KHTML")==-1,mobile:!!x.match(/AppleWebKit.*Mobile.*/),ios:!!x.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:x.indexOf("Android")>-1,iPhone:x.indexOf("iPhone")>-1,iPad:x.indexOf("iPad")>-1,webApp:x.indexOf("Safari")==-1,appbyme:x.indexOf("Appbyme")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};function p(x,av){X=av;if(x!=null&&x!=""){Q=x}if(e.versions.android){Q=Q+1000}if(window.DeviceMotionEvent){window.addEventListener("devicemotion",ae,false)}else{alert("您的设备不支持摇一摇功能")}}function ae(aw){var av=aw.accelerationIncludingGravity;var ay=new Date().getTime();if((ay-q)>100){var x=ay-q;q=ay;ad=av.x;y=av.y;z=av.z;var ax=Math.abs(ad+y+z-last_x-last_y-last_z)/x*10000;if(ax>Q){X()}last_x=ad;last_y=y;last_z=z}}function Y(x){S=x;if(e.versions.android){appbyme.onLogin()}else{return document.location=L}}function K(x){O=x;if(e.versions.android){appbyme.onLogout()}else{return document.location=G}}function ab(ax,av,x,aw){u(aw);if(e.versions.android){appbyme.onShare(ax,av,x)}else{return document.location=af+"?"+encodeURIComponent(ax)+"&"+encodeURIComponent(av)+"&"+encodeURIComponent(x)}}function u(x){f=x}function a(x){i=x;if(e.versions.android){appbyme.getUserInfo()}else{return document.location=w}}function C(x){ak=x;if(e.versions.android){appbyme.getVersion()}else{return document.location=ai}}function ar(x){if(e.versions.android){appbyme.userCenter(x)}else{return document.location=R+"?"+encodeURIComponent(x)}}function Z(ay,ax,az,aw,av,x){m=ay;if(typeof(ax)=="undefined"||ax==null){ax=1}if(typeof(az)=="undefined"||az==null){az=0}if(typeof(aw)=="undefined"||aw==null){az=""}if(typeof(av)=="undefined"||av==null){av=0}if(typeof(x)=="undefined"||x==null){x=true}if(e.versions.android){appbyme.pulishTopic(ax,az,aw,av,x)}else{return document.location=b+"?"+encodeURIComponent(ax)+"&"+encodeURIComponent(az)+"&"+encodeURIComponent(aw)+"&"+encodeURIComponent(av)+"&"+encodeURIComponent(x)}}function N(aw,av,x,ax){au=aw;if(typeof(av)=="undefined"||av==null){topicType=0}if(typeof(x)=="undefined"||x==null){x=0}if(typeof(ax)=="undefined"||ax==null){ax=0}if(e.versions.android){appbyme.replyTopic(av,x,ax)}else{return document.location=d+"?"+encodeURIComponent(av)+"&"+encodeURIComponent(x)+"&"+encodeURIComponent(ax)}}function E(av,aw,x){if(typeof(av)=="undefined"||av==null){av=0}if(typeof(aw)=="undefined"||aw==null){aw=0}if(typeof(x)=="undefined"||x==null){x=1}if(e.versions.android){appbyme.topicDetail(av,aw,x)}else{return document.location=aj+"?"+encodeURIComponent(av)+"&"+encodeURIComponent(aw)+"&"+encodeURIComponent(x)}}function ap(x){I(x);if(e.versions.android){appbyme.scan()}else{return document.location=al}}function I(x){am=x}function D(x){if(e.versions.android){appbyme.urlRequest(x)}else{return document.location=at+"?"+encodeURIComponent(x)}}function V(av,x){if(typeof(x)=="undefined"||x==null){x=0}if(e.versions.android){appbyme.imagePreview(av,x)}else{return document.location=j+"?"+encodeURIComponent(av)+"&"+encodeURIComponent(x)}}function P(x){if(typeof(x)=="undefined"||x==null){x="{}"}if(e.versions.android){appbyme.customButton(x)}else{return document.location=aa+"?"+encodeURIComponent(x)}}function aq(x,av){ac=x;if(e.versions.android){appbyme.encrypt(av)}else{return document.location=F+"?"+encodeURIComponent(av)}}function o(x){g=x;if(e.versions.android){appbyme.getLocation()}else{return document.location=l}}function U(){if(e.versions.android){appbyme.closeActivity()}else{return document.location=n}}function c(aw,x,av){k=aw;if(e.versions.android){appbyme.payRequest(x,av)}else{return document.location=W+"?"+encodeURIComponent(x)+"&"+encodeURIComponent(av)}}function t(x){if(e.versions.android){appbyme.customModule(x)}else{return document.location=an+"?"+encodeURIComponent(x)}}function s(x){S(x)}function H(x){O(x)}function ah(x){f(x)}function T(x){x.js=ao;ak(x)}function B(x){i(x)}function ag(x){m(x)}function h(x){au(x)}function A(x){am(x)}function M(x){ac(x)}function r(x){g(x)}function J(x){k(x)}window.AppbymeJavascriptBridge={initShake:p,login:Y,logout:K,share:ab,getUserInfo:a,getVersion:C,userCenter:ar,pulishTopic:Z,replyTopic:N,topicDetail:E,scan:ap,urlRequest:D,imagePreview:V,customButton:P,encrypt:aq,getLocation:o,closeActivity:U,payRequest:c,customModule:t,loginCallBack:s,logoutCallBack:H,shareCallBack:ah,versionCallBack:T,userInfoCallBack:B,replyTopicCallBack:h,scanCallBack:A,pulishTopicCallBack:ag,setShareCallBack:u,setScanCallBack:I,encryptCallBack:M,locationCallBack:r,payRequestCallBack:J};
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              var v=document.createEvent("Events");v.initEvent("connectAppbymeJavascriptBridge");v.bridge=AppbymeJavascriptBridge;document.dispatchEvent(v)})();